# Release Notes - MindQuest v1.3.8

**Data:** 2025-11-27 19:43  
**Versão:** 1.3.8  
**Status:** Preparação para release

## Resumo Executivo

Esta versão introduz melhorias significativas no sistema de quests, com criação automática baseada em conversas, novos status de progresso, painel redesenhado e simplificação da estrutura de dados. Também inclui melhorias na navegação com histórico de conversas e insights.

---

## Itens Implementados

### 1. Criação Automática de Quests a Cada Conversa

**Funcionalidade:** O sistema agora cria automaticamente 3 quests personalizadas após cada conversa guiada:

- **Quest específica da conversa:** Quest com ações relacionadas diretamente ao contexto e conteúdo da conversa realizada
- **Quest relacionada ao sabotador mais ativo:** Quest adaptada para trabalhar o sabotador identificado como mais ativo no momento
- **Quest de base científica (TCC, Estoicismo, boas práticas):** Quest fundamentada em conhecimento científico, adaptada ao contexto da conversa

**Benefício:** Usuário recebe ações práticas e personalizadas imediatamente após cada conversa, facilitando a aplicação dos aprendizados.

---

### 2. Criação de Quests a Partir de Insights

**Funcionalidade:** Usuário pode criar quests diretamente a partir da tela de insights, incluindo insights anteriores (histórico).

**Benefício:** Permite transformar insights em ações práticas mesmo após o tempo da conversa original, aumentando a flexibilidade e utilidade do sistema.

---

### 3. Novo Sistema de Status de Quests

**Funcionalidade:** Quests agora possuem 3 status distintos:

- **"a fazer"** (disponivel): Quest planejada, aguardando início
- **"fazendo"** (ativa): Quest em andamento, com recorrências planejadas
- **"feito"** (concluida/inativa): Quest concluída

**Benefício:** Melhor rastreamento do progresso e clareza sobre o estado de cada quest.

---

### 4. Flexibilidade na Conclusão de Quests "A Fazer"

**Funcionalidade:** Quests em status "a fazer" podem ser:

- **Definir recorrências:** Usuário planeja quando executar a quest (diária, semanal, etc.)
- **Concluir diretamente:** Usuário pode marcar como concluída sem planejar recorrências (execução única)

**Benefício:** Flexibilidade para quests de execução única ou quando o usuário prefere concluir antes de planejar recorrências.

**Implementação técnica:** Sistema cria automaticamente registro em `quests_recorrencias` com status "concluida" quando quest "a fazer" é concluída sem recorrências planejadas.

---

### 5. Painel de Quests Redesenhado e Simplificado

**Funcionalidade:** Interface do painel de quests foi completamente redesenhada com foco em:

- Visualização mais clara dos status (a fazer, fazendo, feito)
- Navegação simplificada
- Melhor organização visual das informações

**Benefício:** Experiência mais intuitiva e fácil de usar.

---

### 6. Separação de Conversas e Quests

**Funcionalidade:** Conversas e quests agora são exibidas em seções separadas no painel de progresso semanal.

**Benefício:** Melhor organização visual e clareza sobre diferentes tipos de atividades.

---

### 7. Link para Histórico de Conversas

**Funcionalidade:** Adicionado link "Histórico >" no card de conversas da home, permitindo acesso rápido ao histórico completo de conversas.

**Localização:** Card "Meu progresso Semanal" → Seção "Conversas" → Link "Histórico >"

**Benefício:** Acesso rápido ao histórico de conversas para revisão e análise.

---

### 8. Link para Histórico de Insights

**Funcionalidade:** Adicionado link "Histórico >" no card de insights da home, permitindo acesso ao painel completo de insights.

**Localização:** Card "Insight da última conversa" → Link "Histórico >" (canto superior direito)

**Benefício:** Acesso rápido a todos os insights gerados, facilitando revisão e criação de quests a partir de insights anteriores.

---

### 9. Simplificação da Estrutura de Tabelas no Banco de Dados

**Funcionalidade:** Refatoração da estrutura de tabelas relacionadas a recorrências, simplificando o modelo de dados.

**Benefício:** 
- Melhor performance
- Manutenção mais simples
- Estrutura mais clara e direta

**Tabelas afetadas:** `quests_recorrencias`

---

## Melhorias Técnicas

### Workflows n8n

- **webhook_concluir_quest:** Adicionado nó "Criar Recorrencia se Necessario" para criar automaticamente recorrências quando quest "a fazer" é concluída sem planejamento prévio
- **sw_xp_quest, sw_criar_quest, sw_xp_conversas:** Workflows exclusivos do agente de IA (não devem ser alterados para demandas de interface)

### Frontend

- **QuestDetailPageV13:** Botão de conclusão desabilitado durante processo para evitar cliques repetidos
- **QuestDetailPageV13:** Navegação automática para painel de quests após conclusão com refresh de dados
- **CardInsightUltimaConversa:** Adicionado link "Histórico >" seguindo padrão do card de conversas
- **CardWeeklyProgress:** Link "Histórico >" já existente mantido


