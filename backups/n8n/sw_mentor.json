{
  "createdAt": "2025-11-08T08:11:08.612Z",
  "id": "bQxc90wTkWpdS3R9",
  "name": "sw_mentor",
  "description": null,
  "active": false,
  "isArchived": false,
  "nodes": [
    {
      "parameters": {
        "workflowInputs": {
          "values": [
            {
              "name": "usuario_id"
            },
            {
              "name": "nome"
            },
            {
              "name": "remoteJid"
            },
            {
              "name": "evolution_instance"
            },
            {
              "name": "menssagem"
            }
          ]
        }
      },
      "id": "cffa37d1-c5d6-48d1-9746-f495e179be7a",
      "name": "start",
      "type": "n8n-nodes-base.executeWorkflowTrigger",
      "typeVersion": 1.1,
      "position": [
        80,
        32
      ]
    },
    {
      "parameters": {
        "options": {
          "maxTokens": 900,
          "temperature": 0.2
        }
      },
      "id": "1fe67efc-d6e3-43bc-9e7d-1c92995944bc",
      "name": "OpenRouter Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenRouter",
      "typeVersion": 1,
      "position": [
        512,
        336
      ],
      "credentials": {
        "openRouterApi": {
          "id": "rSnkOnnAHyfayLJt",
          "name": "OpenRouter account"
        }
      }
    },
    {
      "parameters": {
        "sessionIdType": "customKey",
        "sessionKey": "=mentor:{{ $('start').first().json.usuario_id }}{{ $('start').item.json.remoteJid }}",
        "sessionTTL": "=2500000",
        "contextWindowLength": 30
      },
      "type": "@n8n/n8n-nodes-langchain.memoryRedisChat",
      "typeVersion": 1.5,
      "position": [
        720,
        336
      ],
      "id": "4149f277-5aa6-48b7-be0b-eddf73c8ac33",
      "name": "Redis Chat Memory",
      "credentials": {
        "redis": {
          "id": "PB4zpLy1jLXDEzmH",
          "name": "Redis account"
        }
      }
    },
    {
      "parameters": {
        "descriptionType": "manual",
        "toolDescription": "=Use this tool to obtain the saboteurs history with the user.",
        "operation": "executeQuery",
        "query": "WITH ultimos AS (\n  SELECT\n    us.id,\n    us.sabotador_id,\n    us.apelido_personalizado,\n    us.contexto_principal,\n    us.insight_atual,\n    us.contramedida_ativa,\n    us.intensidade_media,\n    us.total_deteccoes,\n    us.data_ultima_atividade,\n    us.atualizado_em,\n    us.chat_id\n  FROM public.usuarios_sabotadores us\n  WHERE us.usuario_id = $1::uuid\n  ORDER BY COALESCE(us.data_ultima_atividade, us.atualizado_em) DESC\n  LIMIT 10\n)\nSELECT json_build_object(\n  'sabotadores_recentes',\n  COALESCE(json_agg(\n    json_build_object(\n      'id', ultimos.id,\n      'sabotador_id', ultimos.sabotador_id,\n      'apelido', ultimos.apelido_personalizado,\n      'contexto', ultimos.contexto_principal,\n      'insight', ultimos.insight_atual,\n      'contramedida', ultimos.contramedida_ativa,\n      'intensidade', ultimos.intensidade_media,\n      'total_deteccoes', ultimos.total_deteccoes,\n      'data_ultima_atividade', COALESCE(ultimos.data_ultima_atividade, ultimos.atualizado_em),\n      'chat_id', ultimos.chat_id\n    )\n    ORDER BY COALESCE(ultimos.data_ultima_atividade, ultimos.atualizado_em) DESC\n  ), '[]'::json)\n) AS sabotadores\nFROM ultimos;",
        "options": {
          "queryReplacement": "={{ $('start').first().json.usuario_id }}"
        }
      },
      "type": "n8n-nodes-base.postgresTool",
      "typeVersion": 2.6,
      "position": [
        1040,
        336
      ],
      "id": "72cc42d8-ce21-400b-aaa0-46afa80467af",
      "name": "sabotadores",
      "credentials": {
        "postgres": {
          "id": "8ySWxtSO7gYK5uue",
          "name": "Postgres account"
        }
      }
    },
    {
      "parameters": {
        "descriptionType": "manual",
        "toolDescription": "=Use this tool to obtain the conversation history with the user.",
        "operation": "executeQuery",
        "query": "WITH ultimas AS (\n  SELECT\n    uc.id,\n    uc.session_id,\n    uc.data_conversa,\n    uc.resumo_conversa,\n    uc.tem_reflexao,\n    uc.total_palavras_usuario,\n    uc.criado_em\n  FROM public.usr_chat uc\n  WHERE uc.usuario_id = $1::uuid\n  ORDER BY uc.data_conversa DESC, uc.criado_em DESC\n  LIMIT 10\n)\nSELECT json_build_object(\n  'conversas_recentes',\n  COALESCE(json_agg(\n    json_build_object(\n      'chat_id', ultimas.id,\n      'session_id', ultimas.session_id,\n      'data_conversa', ultimas.data_conversa,\n      'resumo', ultimas.resumo_conversa,\n      'tem_reflexao', ultimas.tem_reflexao,\n      'total_palavras', ultimas.total_palavras_usuario\n    )\n    ORDER BY ultimas.data_conversa DESC, ultimas.criado_em DESC\n  ), '[]'::json)\n) AS conversas\nFROM ultimas;",
        "options": {
          "queryReplacement": "={{ $('start').first().json.usuario_id }}"
        }
      },
      "type": "n8n-nodes-base.postgresTool",
      "typeVersion": 2.6,
      "position": [
        880,
        336
      ],
      "id": "7f55cf8c-be15-44d4-b6b2-6414ece4c7a5",
      "name": "conversas",
      "credentials": {
        "postgres": {
          "id": "8ySWxtSO7gYK5uue",
          "name": "Postgres account"
        }
      }
    },
    {
      "parameters": {
        "descriptionType": "manual",
        "toolDescription": "=Use this tool to obtain the Insigths history with the user.",
        "operation": "executeQuery",
        "query": "WITH ultimos AS (\n  SELECT\n    i.id,\n    i.titulo,\n    i.categoria,\n    i.tipo,\n    i.prioridade,\n    i.resumo_situacao,\n    i.criado_em\n  FROM public.insights i\n  WHERE i.usuario_id = $1::uuid\n  ORDER BY i.criado_em DESC\n  LIMIT 10\n)\nSELECT json_build_object(\n  'insights_recentes',\n  COALESCE(json_agg(\n    json_build_object(\n      'id', ultimos.id,\n      'titulo', ultimos.titulo,\n      'categoria', ultimos.categoria,\n      'tipo', ultimos.tipo,\n      'prioridade', ultimos.prioridade,\n      'resumo', ultimos.resumo_situacao,\n      'criado_em', ultimos.criado_em\n    )\n    ORDER BY ultimos.criado_em DESC\n  ), '[]'::json)\n) AS insights\nFROM ultimos;",
        "options": {
          "queryReplacement": "={{ $('start').first().json.usuario_id }}"
        }
      },
      "type": "n8n-nodes-base.postgresTool",
      "typeVersion": 2.6,
      "position": [
        1216,
        336
      ],
      "id": "a64c4c64-142c-42ee-b628-5b7c9d6ddae1",
      "name": "Insigths",
      "credentials": {
        "postgres": {
          "id": "8ySWxtSO7gYK5uue",
          "name": "Postgres account"
        }
      }
    },
    {
      "parameters": {
        "workflowId": {
          "__rl": true,
          "value": "U44ZfEwFU77EUthb",
          "mode": "list",
          "cachedResultUrl": "/workflow/U44ZfEwFU77EUthb",
          "cachedResultName": "sw_send_message_with_retry"
        },
        "workflowInputs": {
          "mappingMode": "defineBelow",
          "value": {
            "instanceName": "={{ $('start').item.json.evolution_instance }}",
            "remoteJid": "={{ $('start').item.json.remoteJid }}",
            "messageText": "={{ $json.output }}"
          },
          "matchingColumns": [],
          "schema": [
            {
              "id": "instanceName",
              "displayName": "instanceName",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string",
              "removed": false
            },
            {
              "id": "remoteJid",
              "displayName": "remoteJid",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string",
              "removed": false
            },
            {
              "id": "messageText",
              "displayName": "messageText",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string",
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": true
        },
        "options": {}
      },
      "type": "n8n-nodes-base.executeWorkflow",
      "typeVersion": 1.3,
      "position": [
        1712,
        -176
      ],
      "id": "b62bcb8a-9d46-4db2-ac46-f608421e2f81",
      "name": "Call 'sw_send_message_with_retry'",
      "disabled": true
    },
    {
      "parameters": {
        "descriptionType": "manual",
        "toolDescription": "=Use this tool to obtain the user profile (BIG FIVE) with the user.",
        "operation": "executeQuery",
        "query": "WITH ultimos AS (\n  SELECT\n    i.id,\n    i.titulo,\n    i.categoria,\n    i.tipo,\n    i.prioridade,\n    i.resumo_situacao,\n    i.criado_em\n  FROM public.insights i\n  WHERE i.usuario_id = $1::uuid\n  ORDER BY i.criado_em DESC\n  LIMIT 10\n)\nSELECT json_build_object(\n  'insights_recentes',\n  COALESCE(json_agg(\n    json_build_object(\n      'id', ultimos.id,\n      'titulo', ultimos.titulo,\n      'categoria', ultimos.categoria,\n      'tipo', ultimos.tipo,\n      'prioridade', ultimos.prioridade,\n      'resumo', ultimos.resumo_situacao,\n      'criado_em', ultimos.criado_em\n    )\n    ORDER BY ultimos.criado_em DESC\n  ), '[]'::json)\n) AS insights\nFROM ultimos;",
        "options": {
          "queryReplacement": "={{ $('start').first().json.usuario_id }}"
        }
      },
      "type": "n8n-nodes-base.postgresTool",
      "typeVersion": 2.6,
      "position": [
        1392,
        320
      ],
      "id": "c455106a-ca9b-459c-aeda-abeba209a75c",
      "name": "Perfil",
      "credentials": {
        "postgres": {
          "id": "8ySWxtSO7gYK5uue",
          "name": "Postgres account"
        }
      }
    },
    {
      "parameters": {
        "mode": "insert",
        "messages": {
          "messageValues": [
            {
              "message": "mentor",
              "hideFromUI": true
            }
          ]
        }
      },
      "type": "@n8n/n8n-nodes-langchain.memoryManager",
      "typeVersion": 1.1,
      "position": [
        368,
        32
      ],
      "id": "273126e0-364e-4d13-8ed4-7f65b314aea4",
      "name": "Chat Memory Manager1"
    },
    {
      "parameters": {
        "sessionIdType": "customKey",
        "sessionKey": "=mentor: {{ $('start').item.json.usuario_id }}",
        "sessionTTL": 86400,
        "contextWindowLength": 50
      },
      "type": "@n8n/n8n-nodes-langchain.memoryRedisChat",
      "typeVersion": 1.5,
      "position": [
        304,
        240
      ],
      "id": "3a24c618-6ba6-41f0-bb45-c3d2fa62760a",
      "name": "Redis Chat Memory2",
      "credentials": {
        "redis": {
          "id": "PB4zpLy1jLXDEzmH",
          "name": "Redis account"
        }
      }
    },
    {
      "parameters": {
        "mode": "insert",
        "messages": {
          "messageValues": [
            {
              "type": "user",
              "message": "={{ $json.data.message.conversation }}"
            }
          ]
        }
      },
      "type": "@n8n/n8n-nodes-langchain.memoryManager",
      "typeVersion": 1.1,
      "position": [
        1552,
        32
      ],
      "id": "f3c27556-84b3-4295-aafc-7c207935a150",
      "name": "Chat Memory Manager"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=# üí¨ CONTEXTO DA CONVERSA\n\n**Usu√°rio:**   {{ $('start').item.json.nome }}\n\n**Mensagem do usu√°rio:**{{ $('start').item.json.menssagem }}\n\n---\n\n## üéØ SUA MISS√ÉO AGORA\n\nEsta √© uma **conversa livre** - sem limites de intera√ß√µes, sem estrutura fixa.\n\nO usu√°rio te procurou para:\n- Desabafar sobre algo espec√≠fico\n- Buscar orienta√ß√£o pr√°tica\n- Discutir dilemas ou decis√µes\n- Explorar filosofia aplicada √† vida dele\n\n---\n\n## üìä DADOS DO USU√ÅRIO\n\n**IMPORTANTE:** \n\n1 - , chame as 4 ferramentas logo na primeira mensagem (`conversas`, `sabotadores`, `insights`, `perfil`) antes de responde\n2 - Recebe o usuario com cumprimento objetivo e acolhedor sem disrcursos filos√≥ficos, sem fal√ßa empatia e agurde ele conversar com vc\n3 - sempre aguarde a mensagem do usuario antes de comentar sobre qualquer informa√ß√£o que vc tenha dele\n4 - s√≥ use as informa√ß√µes dentro do contexto conforme a conversa evoluir\n5 - seja gentil e emp√°tico\n6 - Use os dados naturalmente, sem mencionar que est√° consultando sistemas\n7 - Conecte filosofia estoica + TCC aos padr√µes identificados no perfil dele\n\n\n\n## üõ†Ô∏è FERRAMENTAS DISPON√çVEIS\n\nVoc√™ tem acesso direto a:\n- **`conversas`** - Hist√≥rico de conversas guiadas\n- **`sabotadores`** - Sabotadores internos identificados\n- **`insights`** - Insights acion√°veis gerados\n- **`perfil`** - Perfil Big Five\n\n**QUANDO USAR:**\n- **Primeira mensagem:** sempre chame todas as 3 para ter contexto\n- **Durante conversa:** chame novamente se precisar dados atualizados\n- **Seja discreto:** n√£o diga \"vou consultar seu perfil\"; apenas fa√ßa e use\n\n---\n\n## üí° DIRETRIZES PR√ÅTICAS\n\n### Para Esta Conversa\n1. **Escute profundamente** - Entenda o que est√° por tr√°s do que foi dito\n2. **Valide sem concordar** - Reconhe√ßa sentimentos sem refor√ßar distor√ß√µes\n3. **Desafie com amor** - Questione suavemente cren√ßas limitantes\n4. **Seja pr√°tico** - Toda reflex√£o deve levar a a√ß√£o poss√≠vel\n\n### Tom Ajustado ao Big Five\n\nopenness: Use met√°foras criativas e explore m√∫ltiplas perspectivas\nconscientiousness: Seja estruturado e ofere√ßa planos passo a passo\nextraversion: Seja energ√©tico e convide a compartilhar hist√≥rias\nagreeableness: Seja especialmente emp√°tico e co-construa solu√ß√µes\neuroticism: Passe seguran√ßa emocional e normalize oscila√ß√µes'\n\n---\n\n## üåø FILOSOFIA APLICADA\n\n### Princ√≠pios para Hoje\n- **Dicotomia do Controle:** \"O que est√° sob seu controle aqui?\"\n- **Amor Fati:** \"Como seria abra√ßar isso ao inv√©s de resistir?\"\n- **Virtude em A√ß√£o:** \"Qual atitude te faria sentir mais √≠ntegro?\"\n\n### Cita√ß√µes Estoicas (use se relevante)\n- *\"Voc√™ tem poder sobre sua mente, n√£o sobre eventos externos. Perceba isso e encontrar√° for√ßa.\"* - Marco Aur√©lio\n- *\"N√£o somos perturbados pelas coisas, mas pelas vis√µes que temos delas.\"* - Epiteto\n- *\"A vida √© muito curta para ser gasta em ressentimentos.\"* - S√™neca\n\n---\n\n## ‚ö†Ô∏è RESTRI√á√ïES\n\n- N√£o d√™ diagn√≥sticos cl√≠nicos\n- N√£o substitua terapia profissional\n- Se detectar risco (suic√≠dio, viol√™ncia), seja direto: \"Isso √© s√©rio demais para conversarmos aqui. Preciso que voc√™ busque ajuda profissional urgente.\"\n\n---\n\n## üéØ RESULTADO ESPERADO\n\nAo final desta conversa, o usu√°rio deve:\n- Sentir-se **ouvido e compreendido**\n- Ter **clareza maior** sobre a situa√ß√£o\n- Sair com **1 a√ß√£o pr√°tica** para experimentar\n\n---\n\n**Agora responda ao usu√°rio de forma natural, s√°bia e pr√°tica.**",
        "options": {
          "systemMessage": "=# üß† MENTOR DIGITAL - SISTEMA\n\n## IDENTIDADE\nVoc√™ √© o Mentor Digital do usu√°rio, uma consci√™ncia s√°bia que combina:\n- **Filosofia Estoica** (S√™neca, Marco Aur√©lio, Epiteto)\n- **Terapia Cognitivo-Comportamental (TCC)**\n- **T√©cnicas de neutraliza√ß√£o de sabotadores internos**\n\nVoc√™ fala diretamente com o usu√°rio como um mentor experiente, usando linguagem clara e pr√°tica.\n\n---\n\n## CONTEXTO OPERACIONAL\n\n### Dados Dispon√≠veis (via Tools)\nVoc√™ tem acesso a 3 ferramentas que retornam dados do perfil do usu√°rio:\n\n1. **`conversas`** - √öltimas 30 conversas guiadas (contexto emocional)\n2. **`sabotadores`** - Sabotadores identificados (√∫ltimos 30 dias)\n3. **`insights`** - Insights acion√°veis recentes\n4. **`perfil`** - Perfil Big Five\n\n**REGRA CR√çTICA:**\n- Na **primeira mensagem** de cada conversa, chame **todas as 3 tools** para ter contexto completo\n- N√£o mencione que est√° buscando dados; fa√ßa isso discretamente\n- Use os dados naturalmente na conversa, sem citar nomes t√©cnicos das ferramentas\n\n---\n\n## ABORDAGEM FILOS√ìFICA\n\n### Princ√≠pios Estoicos a Aplicar\n1. **Dicotomia do Controle** - Separar o que est√°/n√£o est√° sob controle\n2. **Amor Fati** - Aceitar e abra√ßar o que acontece\n3. **Memento Mori** - Consci√™ncia da finitude para priorizar o essencial\n4. **Virtude como Bem Supremo** - Focar em car√°ter, n√£o em resultados externos\n5. **Preemeditatio Malorum** - Preparar-se mentalmente para adversidades\n\n### Como Usar Estoicismo\n- Traga **cita√ß√µes curtas** quando fizerem sentido natural\n- Traduza conceitos para **a√ß√µes pr√°ticas do dia a dia**\n- N√£o seja acad√™mico; seja **conversacional e aplic√°vel**\n\n---\n\n## T√âCNICAS TCC\n\n### Reestrutura√ß√£o Cognitiva\nQuando identificar pensamentos distorcidos:\n1. **Identifique** a distor√ß√£o (catastrofiza√ß√£o, generaliza√ß√£o, etc.)\n2. **Questione** com evid√™ncias (\"Isso √© realmente verdade?\")\n3. **Reformule** de forma mais realista e equilibrada\n\n### Experimentos Comportamentais\nSugira **pequenas a√ß√µes test√°veis**:\n- \"Que tal testar X esta semana e observar o que acontece?\"\n- Foco em experimentos de baixo risco, alta aprendizagem\n\n---\n\n## NEUTRALIZA√á√ÉO DE SABOTADORES\n\n### Estrat√©gia Geral\n1. **Reconhecer** - Nomear o sabotador em a√ß√£o\n2. **Entender** - Por que ele aparece (prote√ß√£o, medo)\n3. **Desafiar** - Questionar a narrativa dele\n4. **Redirecionar** - A√ß√£o alternativa alinhada com valores\n\n### Sabotadores Comuns e Ant√≠dotos\n\n| Sabotador | Ant√≠doto Estoico + TCC |\n|-----------|------------------------|\n| **Hipervigilante** | Dicotomia do controle + exposi√ß√£o gradual |\n| **Controlador** | Aceita√ß√£o radical + delega√ß√£o intencional |\n| **Hiper-racional** | Mindfulness emocional + registro de emo√ß√µes |\n| **Perfeccionista** | \"Feito √© melhor que perfeito\" + autocompaix√£o |\n| **Insistente** | Flexibilidade cognitiva + custo-benef√≠cio |\n| **Evitador** | Exposi√ß√£o gradual + valores como guia |\n| **V√≠tima** | Locus de controle interno + responsabilidade |\n| **Hiper-realizador** | Ser vs Fazer + pausas estrat√©gicas |\n| **Agradador** | Limites saud√°veis + assertividade |\n| **Juiz** | Humanidade compartilhada + autocompaix√£o |\n\n---\n\n## TOM E ESTILO\n\n### Como Falar\n- **Direto e claro** - Sem rodeios\n- **Caloroso mas firme** - Mentor que desafia com amor\n- **Pr√°tico e acion√°vel** - Sempre conecte a a√ß√µes concretas\n- **Valida√ß√£o + Desafio** - \"Entendo que... E ao mesmo tempo...\"\n\n### Como N√ÉO Falar\n- ‚ùå Acad√™mico ou prolixo\n- ‚ùå Diagn√≥sticos ou termos cl√≠nicos\n- ‚ùå Julgamentos morais\n- ‚ùå Solu√ß√µes prontas sem contexto\n\n### Estrutura de Resposta\n1. **Acolhimento breve** (1-2 frases)\n2. **Insight estoico/TCC** conectado ao que usu√°rio trouxe\n3. **Pergunta reflexiva** OU **a√ß√£o pr√°tica**\n4. **Encerramento motivador**\n\n---\n\n## FERRAMENTAS (INTERNAL USE)\n\n### `conversas` (executeQuery)\nRetorna:\n- Resumos de conversas recentes\n- Padr√µes emocionais\n- Contextos frequentes (trabalho, fam√≠lia, etc.)\n\n### `sabotadores` (executeQuery)\nRetorna:\n- Sabotadores mais ativos\n- Frequ√™ncia e intensidade\n- Situa√ß√µes gatilho\n\n### `insights` (executeQuery)\nRetorna:\n- Insights acion√°veis gerados\n- Status de implementa√ß√£o\n- √Åreas de desenvolvimento\n\n**USO:**\n- Primeira mensagem: chame todas as 3\n- Durante conversa: chame novamente se precisar atualizar contexto\n- Nunca cite que est√° \"consultando banco de dados\"\n\n---\n\n## OBJETIVO FINAL\n\nAjudar o usu√°rio a:\n1. **Ver com clareza** - Separar fatos de interpreta√ß√µes\n2. **Agir com sabedoria** - Focar no que est√° sob controle\n3. **Viver com prop√≥sito** - Alinhar a√ß√µes com valores profundos\n\nVoc√™ √© o s√°bio pr√°tico que o usu√°rio consulta para navegar a vida com mais serenidade e efetividade."
        }
      },
      "id": "1526ca49-8431-4a7c-aa6e-bbb11a1b7c7c",
      "name": "Mentor",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2.2,
      "position": [
        880,
        32
      ]
    },
    {
      "parameters": {
        "workflowId": {
          "__rl": true,
          "value": "DJB5qWudX1Hqap1O",
          "mode": "list",
          "cachedResultUrl": "/workflow/DJB5qWudX1Hqap1O",
          "cachedResultName": "sw_evolution_send_message_v2"
        },
        "workflowInputs": {
          "mappingMode": "defineBelow",
          "value": {
            "instanceName": "={{ $('start').item.json.evolution_instance }}",
            "remoteJidOrNumber": "={{ $('start').item.json.remoteJid }}",
            "messageText": "={{ $json.output }}",
            "linkPreview": "false",
            "minDelayMs": "2000"
          },
          "matchingColumns": [],
          "schema": [
            {
              "id": "instanceName",
              "displayName": "instanceName",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string"
            },
            {
              "id": "remoteJidOrNumber",
              "displayName": "remoteJidOrNumber",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string"
            },
            {
              "id": "messageText",
              "displayName": "messageText",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string"
            },
            {
              "id": "linkPreview",
              "displayName": "linkPreview",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string"
            },
            {
              "id": "minDelayMs",
              "displayName": "minDelayMs",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string"
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": true
        },
        "options": {}
      },
      "type": "n8n-nodes-base.executeWorkflow",
      "typeVersion": 1.3,
      "position": [
        1264,
        -128
      ],
      "id": "94097b72-2a76-4841-a886-0412966b6092",
      "name": "novo - send evolution"
    }
  ],
  "connections": {
    "start": {
      "main": [
        [
          {
            "node": "Chat Memory Manager1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenRouter Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "Mentor",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Redis Chat Memory": {
      "ai_memory": [
        [
          {
            "node": "Mentor",
            "type": "ai_memory",
            "index": 0
          },
          {
            "node": "Chat Memory Manager",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "sabotadores": {
      "ai_tool": [
        [
          {
            "node": "Mentor",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "conversas": {
      "ai_tool": [
        [
          {
            "node": "Mentor",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Insigths": {
      "ai_tool": [
        [
          {
            "node": "Mentor",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Perfil": {
      "ai_tool": [
        [
          {
            "node": "Mentor",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Redis Chat Memory2": {
      "ai_memory": [
        [
          {
            "node": "Chat Memory Manager1",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Chat Memory Manager1": {
      "main": [
        [
          {
            "node": "Mentor",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Call 'sw_send_message_with_retry'": {
      "main": [
        []
      ]
    },
    "Chat Memory Manager": {
      "main": [
        []
      ]
    },
    "Mentor": {
      "main": [
        [
          {
            "node": "novo - send evolution",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "novo - send evolution": {
      "main": [
        [
          {
            "node": "Chat Memory Manager",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "settings": {
    "executionOrder": "v1"
  },
  "staticData": null,
  "meta": {
    "templateCredsSetupCompleted": true
  },
  "pinData": {
    "start": [
      {
        "json": {
          "usuario_id": "d949d81c-9235-41ce-8b3b-6b5d593c5e24",
          "nome": "Aldo",
          "remoteJid": "351932786582@s.whatsapp.net",
          "evolution_instance": "MindQuest",
          "menssagem": " Gostei muito, eu quero um plano detalhado, eu quero que voc√™ fa√ßa um plano detalhado, separando s√≥ o sabotador e o plano, bem objetivo."
        }
      }
    ]
  },
  "versionId": "4f6088e1-2cf4-4ce2-a5b8-fdf217d3d396",
  "versionCounter": 1,
  "triggerCount": 0,
  "shared": [
    {
      "createdAt": "2025-11-08T08:11:08.612Z",
      "role": "workflow:owner",
      "workflowId": "bQxc90wTkWpdS3R9",
      "projectId": "u1M57XAwIiLpPwjp",
      "project": {
        "createdAt": "2025-09-16T16:13:20.606Z",
        "id": "u1M57XAwIiLpPwjp",
        "name": "Aldo Santos <lindualdo@hotmail.com>",
        "type": "personal",
        "icon": null,
        "description": null,
        "projectRelations": [
          {
            "createdAt": "2025-09-16T16:13:20.606Z",
            "userId": "fa864d51-475e-4765-b3b4-12788525a3e6",
            "projectId": "u1M57XAwIiLpPwjp",
            "user": {
              "createdAt": "2025-09-16T16:13:20.056Z",
              "id": "fa864d51-475e-4765-b3b4-12788525a3e6",
              "email": "lindualdo@hotmail.com",
              "firstName": "Aldo",
              "lastName": "Santos",
              "personalizationAnswers": {
                "version": "v4",
                "personalization_survey_submitted_at": "2025-09-16T16:22:10.583Z",
                "personalization_survey_n8n_version": "1.108.1"
              },
              "settings": {
                "userActivated": true,
                "firstSuccessfulWorkflowId": "jUAvu7DUAzyqZhJd",
                "userActivatedAt": 1758041156747,
                "easyAIWorkflowOnboarded": true,
                "dismissedCallouts": {
                  "preBuiltAgentsModalCallout": true
                },
                "npsSurvey": {
                  "responded": true,
                  "lastShownAt": 1759918723295
                }
              },
              "disabled": false,
              "mfaEnabled": false,
              "isPending": false
            }
          }
        ]
      }
    }
  ],
  "tags": []
}
